{"ast":null,"code":"var _jsxFileName = \"D:\\\\PROJECTS\\\\plane-store\\\\client\\\\src\\\\pages\\\\CreatePlanePage\\\\CreatePlanePage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Button } from \"../../components/button\";\nimport { ContentWrapper } from \"../../components/content-wrapper\";\nimport { Input } from \"../../components/input\";\nimport { paths } from \"../../paths\";\nimport { createPlane, resetPlaneErrors } from \"../../store/plane/planeSlice\";\nimport styles from \"./styles.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CreatePlanePage = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const {\n    errors\n  } = useSelector(state => state.plane);\n  const [name, setName] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [capacity, setCapacity] = useState(\"\");\n  const [planeImage, setPlaneImage] = useState(null);\n  const handleCreatePlane = useCallback(() => {\n    const formData = new FormData();\n    formData.append(\"name\", name);\n    formData.append(\"price\", price);\n    formData.append(\"description\", description);\n    formData.append(\"capacity\", capacity);\n    formData.append(\"planeImage\", planeImage);\n    dispatch(createPlane(formData)).then(res => {\n      if (!res.error) {\n        navigate(`${paths.plane}/${res.payload._id}`, {\n          replace: true\n        });\n      }\n    });\n  }, [capacity, description, dispatch, name, navigate, planeImage, price]);\n  useEffect(() => () => dispatch(resetPlaneErrors()), [dispatch]);\n  return /*#__PURE__*/_jsxDEV(ContentWrapper, {\n    className: styles.createPlane,\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      onClick: () => navigate(-1),\n      isBackButton: true,\n      containerClassName: styles.backButtonContainer,\n      children: \"\\u041D\\u0430\\u0437\\u0430\\u0434\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: styles.form,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: styles.title,\n        children: \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u0441\\u0430\\u043C\\u043E\\u043B\\u0435\\u0442\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        name: \"name\",\n        placeholder: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0441\\u0430\\u043C\\u043E\\u043B\\u0451\\u0442\\u0430\",\n        error: errors && errors.name && errors.name.message,\n        onChange: e => setName(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        name: \"price\",\n        placeholder: \"\\u0426\\u0435\\u043D\\u0430 \\u0441\\u0430\\u043C\\u043E\\u043B\\u0451\\u0442\\u0430\",\n        error: errors && errors.price && errors.price.message,\n        onChange: e => setPrice(+e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        name: \"description\",\n        placeholder: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\",\n        error: errors && errors.description && errors.description.message,\n        onChange: e => setDescription(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        name: \"capacity\",\n        placeholder: \"\\u0412\\u043C\\u0435\\u0441\\u0442\\u0438\\u043C\\u043E\\u0441\\u0442\\u044C\",\n        error: errors && errors.capacity && errors.capacity.message,\n        onChange: e => setCapacity(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        name: \"planeImage\",\n        type: \"file\",\n        error: errors && errors.planeImage && errors.planeImage.message,\n        onChange: e => setPlaneImage(e.target.files[0])\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        containerClassName: styles.buttonContainer,\n        onClick: handleCreatePlane,\n        children: \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CreatePlanePage, \"Kl0zIW7Jd4Bqcw6rskznpo81pW4=\", false, function () {\n  return [useNavigate, useDispatch, useSelector];\n});\n\n_c = CreatePlanePage;\nexport default CreatePlanePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreatePlanePage\");","map":{"version":3,"names":["React","useCallback","useEffect","useState","useDispatch","useSelector","useNavigate","Button","ContentWrapper","Input","paths","createPlane","resetPlaneErrors","styles","CreatePlanePage","navigate","dispatch","errors","state","plane","name","setName","price","setPrice","description","setDescription","capacity","setCapacity","planeImage","setPlaneImage","handleCreatePlane","formData","FormData","append","then","res","error","payload","_id","replace","backButtonContainer","form","title","message","e","target","value","files","buttonContainer"],"sources":["D:/PROJECTS/plane-store/client/src/pages/CreatePlanePage/CreatePlanePage.js"],"sourcesContent":["import React, { useCallback, useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { Button } from \"../../components/button\";\r\nimport { ContentWrapper } from \"../../components/content-wrapper\";\r\nimport { Input } from \"../../components/input\";\r\nimport { paths } from \"../../paths\";\r\nimport { createPlane, resetPlaneErrors } from \"../../store/plane/planeSlice\";\r\nimport styles from \"./styles.module.css\";\r\n\r\nconst CreatePlanePage = () => {\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n  const { errors } = useSelector((state) => state.plane);\r\n  const [name, setName] = useState(\"\");\r\n  const [price, setPrice] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [capacity, setCapacity] = useState(\"\");\r\n  const [planeImage, setPlaneImage] = useState(null);\r\n\r\n  const handleCreatePlane = useCallback(() => {\r\n    const formData = new FormData();\r\n    formData.append(\"name\", name);\r\n    formData.append(\"price\", price);\r\n    formData.append(\"description\", description);\r\n    formData.append(\"capacity\", capacity);\r\n    formData.append(\"planeImage\", planeImage);\r\n\r\n    dispatch(createPlane(formData)).then((res) => {\r\n      if (!res.error) {\r\n        navigate(`${paths.plane}/${res.payload._id}`, { replace: true });\r\n      }\r\n    });\r\n  }, [capacity, description, dispatch, name, navigate, planeImage, price]);\r\n\r\n  useEffect(() => () => dispatch(resetPlaneErrors()), [dispatch]);\r\n\r\n  return (\r\n    <ContentWrapper className={styles.createPlane}>\r\n      <Button\r\n        onClick={() => navigate(-1)}\r\n        isBackButton={true}\r\n        containerClassName={styles.backButtonContainer}\r\n      >\r\n        Назад\r\n      </Button>\r\n      <form className={styles.form}>\r\n        <h1 className={styles.title}>Создать самолет</h1>\r\n        <Input\r\n          name=\"name\"\r\n          placeholder=\"Название самолёта\"\r\n          error={errors && errors.name && errors.name.message}\r\n          onChange={(e) => setName(e.target.value)}\r\n        />\r\n        <Input\r\n          name=\"price\"\r\n          placeholder=\"Цена самолёта\"\r\n          error={errors && errors.price && errors.price.message}\r\n          onChange={(e) => setPrice(+e.target.value)}\r\n        />\r\n        <Input\r\n          name=\"description\"\r\n          placeholder=\"Описание\"\r\n          error={errors && errors.description && errors.description.message}\r\n          onChange={(e) => setDescription(e.target.value)}\r\n        />\r\n        <Input\r\n          name=\"capacity\"\r\n          placeholder=\"Вместимость\"\r\n          error={errors && errors.capacity && errors.capacity.message}\r\n          onChange={(e) => setCapacity(e.target.value)}\r\n        />\r\n        <Input\r\n          name=\"planeImage\"\r\n          type=\"file\"\r\n          error={errors && errors.planeImage && errors.planeImage.message}\r\n          onChange={(e) => setPlaneImage(e.target.files[0])}\r\n        />\r\n        <Button\r\n          containerClassName={styles.buttonContainer}\r\n          onClick={handleCreatePlane}\r\n        >\r\n          Создать\r\n        </Button>\r\n      </form>\r\n    </ContentWrapper>\r\n  );\r\n};\r\nexport default CreatePlanePage;\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,WAAhB,EAA6BC,SAA7B,EAAwCC,QAAxC,QAAwD,OAAxD;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,MAAT,QAAuB,yBAAvB;AACA,SAASC,cAAT,QAA+B,kCAA/B;AACA,SAASC,KAAT,QAAsB,wBAAtB;AACA,SAASC,KAAT,QAAsB,aAAtB;AACA,SAASC,WAAT,EAAsBC,gBAAtB,QAA8C,8BAA9C;AACA,OAAOC,MAAP,MAAmB,qBAAnB;;;AAEA,MAAMC,eAAe,GAAG,MAAM;EAAA;;EAC5B,MAAMC,QAAQ,GAAGT,WAAW,EAA5B;EACA,MAAMU,QAAQ,GAAGZ,WAAW,EAA5B;EACA,MAAM;IAAEa;EAAF,IAAaZ,WAAW,CAAEa,KAAD,IAAWA,KAAK,CAACC,KAAlB,CAA9B;EACA,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBlB,QAAQ,CAAC,EAAD,CAAhC;EACA,MAAM,CAACmB,KAAD,EAAQC,QAAR,IAAoBpB,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACqB,WAAD,EAAcC,cAAd,IAAgCtB,QAAQ,CAAC,EAAD,CAA9C;EACA,MAAM,CAACuB,QAAD,EAAWC,WAAX,IAA0BxB,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM,CAACyB,UAAD,EAAaC,aAAb,IAA8B1B,QAAQ,CAAC,IAAD,CAA5C;EAEA,MAAM2B,iBAAiB,GAAG7B,WAAW,CAAC,MAAM;IAC1C,MAAM8B,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;IACAD,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBb,IAAxB;IACAW,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyBX,KAAzB;IACAS,QAAQ,CAACE,MAAT,CAAgB,aAAhB,EAA+BT,WAA/B;IACAO,QAAQ,CAACE,MAAT,CAAgB,UAAhB,EAA4BP,QAA5B;IACAK,QAAQ,CAACE,MAAT,CAAgB,YAAhB,EAA8BL,UAA9B;IAEAZ,QAAQ,CAACL,WAAW,CAACoB,QAAD,CAAZ,CAAR,CAAgCG,IAAhC,CAAsCC,GAAD,IAAS;MAC5C,IAAI,CAACA,GAAG,CAACC,KAAT,EAAgB;QACdrB,QAAQ,CAAE,GAAEL,KAAK,CAACS,KAAM,IAAGgB,GAAG,CAACE,OAAJ,CAAYC,GAAI,EAAnC,EAAsC;UAAEC,OAAO,EAAE;QAAX,CAAtC,CAAR;MACD;IACF,CAJD;EAKD,CAboC,EAalC,CAACb,QAAD,EAAWF,WAAX,EAAwBR,QAAxB,EAAkCI,IAAlC,EAAwCL,QAAxC,EAAkDa,UAAlD,EAA8DN,KAA9D,CAbkC,CAArC;EAeApB,SAAS,CAAC,MAAM,MAAMc,QAAQ,CAACJ,gBAAgB,EAAjB,CAArB,EAA2C,CAACI,QAAD,CAA3C,CAAT;EAEA,oBACE,QAAC,cAAD;IAAgB,SAAS,EAAEH,MAAM,CAACF,WAAlC;IAAA,wBACE,QAAC,MAAD;MACE,OAAO,EAAE,MAAMI,QAAQ,CAAC,CAAC,CAAF,CADzB;MAEE,YAAY,EAAE,IAFhB;MAGE,kBAAkB,EAAEF,MAAM,CAAC2B,mBAH7B;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAQE;MAAM,SAAS,EAAE3B,MAAM,CAAC4B,IAAxB;MAAA,wBACE;QAAI,SAAS,EAAE5B,MAAM,CAAC6B,KAAtB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAEE,QAAC,KAAD;QACE,IAAI,EAAC,MADP;QAEE,WAAW,EAAC,mGAFd;QAGE,KAAK,EAAEzB,MAAM,IAAIA,MAAM,CAACG,IAAjB,IAAyBH,MAAM,CAACG,IAAP,CAAYuB,OAH9C;QAIE,QAAQ,EAAGC,CAAD,IAAOvB,OAAO,CAACuB,CAAC,CAACC,MAAF,CAASC,KAAV;MAJ1B;QAAA;QAAA;QAAA;MAAA,QAFF,eAQE,QAAC,KAAD;QACE,IAAI,EAAC,OADP;QAEE,WAAW,EAAC,2EAFd;QAGE,KAAK,EAAE7B,MAAM,IAAIA,MAAM,CAACK,KAAjB,IAA0BL,MAAM,CAACK,KAAP,CAAaqB,OAHhD;QAIE,QAAQ,EAAGC,CAAD,IAAOrB,QAAQ,CAAC,CAACqB,CAAC,CAACC,MAAF,CAASC,KAAX;MAJ3B;QAAA;QAAA;QAAA;MAAA,QARF,eAcE,QAAC,KAAD;QACE,IAAI,EAAC,aADP;QAEE,WAAW,EAAC,kDAFd;QAGE,KAAK,EAAE7B,MAAM,IAAIA,MAAM,CAACO,WAAjB,IAAgCP,MAAM,CAACO,WAAP,CAAmBmB,OAH5D;QAIE,QAAQ,EAAGC,CAAD,IAAOnB,cAAc,CAACmB,CAAC,CAACC,MAAF,CAASC,KAAV;MAJjC;QAAA;QAAA;QAAA;MAAA,QAdF,eAoBE,QAAC,KAAD;QACE,IAAI,EAAC,UADP;QAEE,WAAW,EAAC,oEAFd;QAGE,KAAK,EAAE7B,MAAM,IAAIA,MAAM,CAACS,QAAjB,IAA6BT,MAAM,CAACS,QAAP,CAAgBiB,OAHtD;QAIE,QAAQ,EAAGC,CAAD,IAAOjB,WAAW,CAACiB,CAAC,CAACC,MAAF,CAASC,KAAV;MAJ9B;QAAA;QAAA;QAAA;MAAA,QApBF,eA0BE,QAAC,KAAD;QACE,IAAI,EAAC,YADP;QAEE,IAAI,EAAC,MAFP;QAGE,KAAK,EAAE7B,MAAM,IAAIA,MAAM,CAACW,UAAjB,IAA+BX,MAAM,CAACW,UAAP,CAAkBe,OAH1D;QAIE,QAAQ,EAAGC,CAAD,IAAOf,aAAa,CAACe,CAAC,CAACC,MAAF,CAASE,KAAT,CAAe,CAAf,CAAD;MAJhC;QAAA;QAAA;QAAA;MAAA,QA1BF,eAgCE,QAAC,MAAD;QACE,kBAAkB,EAAElC,MAAM,CAACmC,eAD7B;QAEE,OAAO,EAAElB,iBAFX;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAhCF;IAAA;MAAA;MAAA;MAAA;IAAA,QARF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAkDD,CA7ED;;GAAMhB,e;UACaR,W,EACAF,W,EACEC,W;;;KAHfS,e;AA8EN,eAAeA,eAAf"},"metadata":{},"sourceType":"module"}